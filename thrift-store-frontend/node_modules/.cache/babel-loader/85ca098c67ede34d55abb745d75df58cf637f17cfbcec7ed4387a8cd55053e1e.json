{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:5000/api';\n\n// Create axios instance with default config\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Request interceptor for adding the auth token\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Products API\nexport const productApi = {\n  getAll: (filters = {}) => api.get('/products', {\n    params: filters\n  }),\n  getById: id => api.get(`/products/${id}`),\n  getMyProducts: () => api.get('/products/my-products'),\n  create: productData => {\n    const formData = new FormData();\n    for (const key in productData) {\n      if (key === 'images') {\n        for (let i = 0; i < productData.images.length; i++) {\n          formData.append('images', productData.images[i]);\n        }\n      } else {\n        formData.append(key, productData[key]);\n      }\n    }\n    return api.post('/products/add', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  update: (id, productData) => api.put(`/products/update/${id}`, productData),\n  delete: id => api.delete(`/products/delete/${id}`)\n};\n\n// Cart API\nexport const cartApi = {\n  get: () => api.get('/cart'),\n  addItem: (productId, quantity = 1) => api.post('/cart/add', {\n    productId,\n    quantity\n  }),\n  updateItem: (productId, quantity) => api.put('/cart/update', {\n    productId,\n    quantity\n  }),\n  removeItem: productId => api.delete(`/cart/remove/${productId}`)\n};\n\n// Order API\nexport const orderApi = {\n  checkout: () => api.post('/orders/checkout'),\n  getOrders: () => api.get('/orders'),\n  updateStatus: (orderId, status) => api.put(`/orders/${orderId}/status`, {\n    status\n  }),\n  createPayment: amount => api.post('/orders/pay', {\n    amount\n  })\n};\n\n// User API\nexport const userApi = {\n  getProfile: () => api.get('/users/profile'),\n  updateProfile: userData => api.put('/users/profile', userData)\n};\nexport default api;","map":{"version":3,"names":["axios","API_URL","api","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Authorization","error","Promise","reject","productApi","getAll","filters","get","params","getById","id","getMyProducts","productData","formData","FormData","key","i","images","length","append","post","update","put","delete","cartApi","addItem","productId","quantity","updateItem","removeItem","orderApi","checkout","getOrders","updateStatus","orderId","status","createPayment","amount","userApi","getProfile","updateProfile","userData"],"sources":["C:/Thrift store/thrift-store-frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000/api';\r\n\r\n// Create axios instance with default config\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Request interceptor for adding the auth token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\n// Products API\r\nexport const productApi = {\r\n  getAll: (filters = {}) => api.get('/products', { params: filters }),\r\n  getById: (id) => api.get(`/products/${id}`),\r\n  getMyProducts: () => api.get('/products/my-products'),\r\n  create: (productData) => {\r\n    const formData = new FormData();\r\n    \r\n    for (const key in productData) {\r\n      if (key === 'images') {\r\n        for (let i = 0; i < productData.images.length; i++) {\r\n          formData.append('images', productData.images[i]);\r\n        }\r\n      } else {\r\n        formData.append(key, productData[key]);\r\n      }\r\n    }\r\n\r\n    return api.post('/products/add', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    });\r\n  },\r\n  update: (id, productData) => api.put(`/products/update/${id}`, productData),\r\n  delete: (id) => api.delete(`/products/delete/${id}`),\r\n};\r\n\r\n// Cart API\r\nexport const cartApi = {\r\n  get: () => api.get('/cart'),\r\n  addItem: (productId, quantity = 1) => api.post('/cart/add', { productId, quantity }),\r\n  updateItem: (productId, quantity) => api.put('/cart/update', { productId, quantity }),\r\n  removeItem: (productId) => api.delete(`/cart/remove/${productId}`),\r\n};\r\n\r\n// Order API\r\nexport const orderApi = {\r\n  checkout: () => api.post('/orders/checkout'),\r\n  getOrders: () => api.get('/orders'),\r\n  updateStatus: (orderId, status) => api.put(`/orders/${orderId}/status`, { status }),\r\n  createPayment: (amount) => api.post('/orders/pay', { amount }),\r\n};\r\n\r\n// User API\r\nexport const userApi = {\r\n  getProfile: () => api.get('/users/profile'),\r\n  updateProfile: (userData) => api.put('/users/profile', userData),\r\n};\r\n\r\nexport default api; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}