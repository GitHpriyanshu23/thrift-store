{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{orderApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function OrdersPage(){const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchOrders();},[]);const fetchOrders=async()=>{try{setLoading(true);const response=await orderApi.getOrders();setOrders(response.data.orders);setLoading(false);}catch(error){console.error('Error fetching orders:',error);setError('Failed to load your orders');setLoading(false);}};const getStatusClass=status=>{switch(status){case'Pending':return'bg-yellow-100 text-yellow-800';case'Processing':return'bg-blue-100 text-blue-800';case'Shipped':return'bg-purple-100 text-purple-800';case'Delivered':return'bg-green-100 text-green-800';case'Cancelled':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};const formatDate=dateString=>{const options={year:'numeric',month:'long',day:'numeric'};return new Date(dateString).toLocaleDateString(undefined,options);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchOrders,className:\"mt-2 text-primary hover:underline\",children:\"Try Again\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-8\",children:\"Your Orders\"}),orders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 bg-white rounded-lg shadow-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"No Orders Yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-6 text-gray-600\",children:\"You haven't placed any orders yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"px-6 py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition\",children:\"Start Shopping\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-6\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b p-4 md:p-6 flex flex-col md:flex-row md:items-center md:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold\",children:[\"Order #\",order._id.slice(-8)]}),/*#__PURE__*/_jsx(\"span\",{className:`ml-4 px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusClass(order.status)}`,children:order.status})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[\"Placed on \",formatDate(order.createdAt)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 md:mt-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl font-bold text-primary\",children:[\"$\",order.totalPrice.toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium mb-4\",children:\"Order Items\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:order.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start border-b pb-4 last:border-0 last:pb-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-16 w-16 flex-shrink-0 rounded overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:item.product.images[0],alt:item.product.title,className:\"h-full w-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-grow\",children:[/*#__PURE__*/_jsx(Link,{to:`/products/${item.product._id}`,className:\"font-medium hover:text-primary\",children:item.product.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Quantity: \",item.quantity]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-medium\",children:[\"$\",(item.product.price*item.quantity).toFixed(2)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"$\",item.product.price,\" each\"]})]})]},item._id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 md:p-6 flex flex-col sm:flex-row sm:justify-between sm:items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Need help with your order?\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"text-primary hover:underline text-sm\",children:\"Contact Support\"})]}),order.status==='Delivered'&&/*#__PURE__*/_jsx(\"button\",{className:\"mt-4 sm:mt-0 px-4 py-2 bg-primary text-white text-sm rounded-md hover:bg-opacity-90\",children:\"Write a Review\"})]})]},order._id))})]});}export default OrdersPage;","map":{"version":3,"names":["React","useState","useEffect","Link","orderApi","jsx","_jsx","jsxs","_jsxs","OrdersPage","orders","setOrders","loading","setLoading","error","setError","fetchOrders","response","getOrders","data","console","getStatusClass","status","formatDate","dateString","options","year","month","day","Date","toLocaleDateString","undefined","className","children","onClick","length","to","map","order","_id","slice","createdAt","totalPrice","toFixed","items","item","src","product","images","alt","title","quantity","price","href"],"sources":["/Volumes/CrucialSSD/Dell Laptop/A Drive/Thrift store/Thrift store/thrift-store-frontend/src/pages/OrdersPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { orderApi } from '../services/api';\r\n\r\nfunction OrdersPage() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await orderApi.getOrders();\r\n      setOrders(response.data.orders);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      setError('Failed to load your orders');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusClass = (status) => {\r\n    switch (status) {\r\n      case 'Pending':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'Processing':\r\n        return 'bg-blue-100 text-blue-800';\r\n      case 'Shipped':\r\n        return 'bg-purple-100 text-purple-800';\r\n      case 'Delivered':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'Cancelled':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    return new Date(dateString).toLocaleDateString(undefined, options);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 rounded\">\r\n          <p>{error}</p>\r\n          <button \r\n            onClick={fetchOrders}\r\n            className=\"mt-2 text-primary hover:underline\"\r\n          >\r\n            Try Again\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <h1 className=\"text-3xl font-bold mb-8\">Your Orders</h1>\r\n      \r\n      {orders.length === 0 ? (\r\n        <div className=\"text-center py-12 bg-white rounded-lg shadow-md\">\r\n          <h2 className=\"text-2xl font-semibold mb-4\">No Orders Yet</h2>\r\n          <p className=\"mb-6 text-gray-600\">You haven't placed any orders yet.</p>\r\n          <Link \r\n            to=\"/products\"\r\n            className=\"px-6 py-3 bg-primary text-white font-medium rounded-md hover:bg-opacity-90 transition\"\r\n          >\r\n            Start Shopping\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 gap-6\">\r\n          {orders.map((order) => (\r\n            <div key={order._id} className=\"bg-white rounded-lg shadow-md overflow-hidden\">\r\n              <div className=\"border-b p-4 md:p-6 flex flex-col md:flex-row md:items-center md:justify-between\">\r\n                <div>\r\n                  <div className=\"flex items-center\">\r\n                    <h2 className=\"text-lg font-semibold\">Order #{order._id.slice(-8)}</h2>\r\n                    <span className={`ml-4 px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusClass(order.status)}`}>\r\n                      {order.status}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-500 mt-1\">Placed on {formatDate(order.createdAt)}</p>\r\n                </div>\r\n                <div className=\"mt-4 md:mt-0\">\r\n                  <p className=\"text-sm text-gray-500\">Total Amount</p>\r\n                  <p className=\"text-xl font-bold text-primary\">${order.totalPrice.toFixed(2)}</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"p-4 md:p-6\">\r\n                <h3 className=\"font-medium mb-4\">Order Items</h3>\r\n                <div className=\"space-y-4\">\r\n                  {order.items.map((item) => (\r\n                    <div key={item._id} className=\"flex items-start border-b pb-4 last:border-0 last:pb-0\">\r\n                      <div className=\"h-16 w-16 flex-shrink-0 rounded overflow-hidden\">\r\n                        <img \r\n                          src={item.product.images[0]} \r\n                          alt={item.product.title}\r\n                          className=\"h-full w-full object-cover\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"ml-4 flex-grow\">\r\n                        <Link \r\n                          to={`/products/${item.product._id}`} \r\n                          className=\"font-medium hover:text-primary\"\r\n                        >\r\n                          {item.product.title}\r\n                        </Link>\r\n                        <p className=\"text-sm text-gray-500\">Quantity: {item.quantity}</p>\r\n                      </div>\r\n                      <div className=\"text-right\">\r\n                        <p className=\"font-medium\">${(item.product.price * item.quantity).toFixed(2)}</p>\r\n                        <p className=\"text-sm text-gray-500\">${item.product.price} each</p>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"bg-gray-50 p-4 md:p-6 flex flex-col sm:flex-row sm:justify-between sm:items-center\">\r\n                <div>\r\n                  <p className=\"text-sm text-gray-500\">Need help with your order?</p>\r\n                  <a href=\"#\" className=\"text-primary hover:underline text-sm\">Contact Support</a>\r\n                </div>\r\n                \r\n                {order.status === 'Delivered' && (\r\n                  <button className=\"mt-4 sm:mt-0 px-4 py-2 bg-primary text-white text-sm rounded-md hover:bg-opacity-90\">\r\n                    Write a Review\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrdersPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}